<html>
  <head>
    <title>ghcjs-test</title>
    <script type="text/javascript" src="rts-common.js"></script>
    <script type="text/javascript" src="rts-plain.js"></script>
    <script type="text/javascript">
      window.onload = function() {
         // URLs to load modules from in order of precedence

/*
---- Easily integrate quid2 into pure js code:

-- dynamic loading of modules 
quid2.load("Data.Bool.Hash_12345",CB) 

-- Construction and destruction of values
quid2.Data.Tree.Hash_1234.Node(33,quid2.Data.Tree.Hash_1234.Node.Nil())
var not = quid2.Data.Bool.Hash_1234.Bool._match(boolVal,function () {return false;},onFalse..)  

-- Calls
quid2.Service.App.getState.(par1,par2).done(cb).fail(fcb);
*/

        $hs.loadPaths = ["."];

        // Used packages
        $hs.packages = ["/main", "/ghc-prim", "/integer-simple", "/base"];

        // Must be called first
        $hs.init();

        $hs.loadModule("Test");

        try {

          var res = $hs.fromHaskellString($hs.modules.Test.hs_test7);
          alert(res);

          //var res = $hs.fromHaskellInt($hs.fromHaskellIO($hs.modules.Test.hs_test9));
          //alert(res);

        } catch (e) {
          alert(e);
        }
      }
    </script>
  </head>
  <body>
    <div id="log">
    </div>
  </body>
</html>

